import type { ResonateError } from "../src/exceptions";
import type { Message, MessageSource, Network, Request, ResponseFor } from "../src/network/network";
import { Server } from "./server";
export declare class LocalNetwork implements Network {
    private server;
    private messageSource;
    constructor({ pid, group, server, }?: {
        pid?: string;
        group?: string;
        server?: Server;
    });
    getMessageSource(): MessageSource;
    start(): void;
    stop(): void;
    send<T extends Request>(req: Request, callback: (err?: ResonateError, res?: ResponseFor<T>) => void): void;
}
export declare class LocalMessageSource implements MessageSource {
    readonly pid: string;
    readonly group: string;
    readonly unicast: string;
    readonly anycast: string;
    private server;
    private timeoutId;
    private shouldStop;
    private subscriptions;
    constructor(pid: string, group: string, server: Server);
    start(): void;
    stop(): void;
    recv(msg: Message): void;
    subscribe(type: "invoke" | "resume" | "notify", callback: (msg: Message) => void): void;
    enqueueNext(): void;
    match(target: string): string;
}
//# sourceMappingURL=network.d.ts.map