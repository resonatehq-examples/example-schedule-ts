import type { Clock } from "./clock";
import { type Status } from "./computation";
import type { Handler } from "./handler";
import type { Heartbeat } from "./heartbeat";
import type { DurablePromiseRecord, MessageSource, Network, TaskRecord } from "./network/network";
import type { OptionsBuilder } from "./options";
import type { Registry } from "./registry";
import type { Span, Tracer } from "./tracer";
import type { Callback } from "./types";
export type PromiseHandler = {
    addEventListener: (event: "created" | "completed", callback: (p: DurablePromiseRecord) => void) => void;
    subscribe: () => Promise<void>;
};
export type Task = ClaimedTask | UnclaimedTask;
export type ClaimedTask = {
    kind: "claimed";
    task: TaskRecord;
    rootPromise: DurablePromiseRecord<any>;
    leafPromise?: DurablePromiseRecord<any>;
};
export type UnclaimedTask = {
    kind: "unclaimed";
    task: TaskRecord;
};
export declare class ResonateInner {
    private unicast;
    private anycast;
    private pid;
    private ttl;
    private clock;
    private network;
    private handler;
    private tracer;
    private retries;
    private registry;
    private heartbeat;
    private dependencies;
    private optsBuilder;
    private verbose;
    private computations;
    constructor({ unicast, anycast, pid, ttl, clock, network, handler, tracer, registry, heartbeat, dependencies, optsBuilder, verbose, messageSource, }: {
        unicast: string;
        anycast: string;
        pid: string;
        ttl: number;
        clock: Clock;
        network: Network;
        handler: Handler;
        tracer: Tracer;
        registry: Registry;
        heartbeat: Heartbeat;
        dependencies: Map<string, any>;
        optsBuilder: OptionsBuilder;
        verbose: boolean;
        messageSource?: MessageSource;
    });
    process(span: Span, task: Task, done: Callback<Status>): void;
    private onMessage;
}
//# sourceMappingURL=resonate-inner.d.ts.map